Week Ending: {{moment-format @timesheet.weekEndingDate 'YYYY-MM-DD ddd'}}


<YetiTable @data={{this.calculatedTimesheet}} local-class="yeti-table" as |table|>
  <table.header as |header|>
    <header.column @prop="chargecode.code">
      Charge Code
    </header.column>
    <header.column @prop="monday" class={{if (eq this.today 'monday') 'active'}}>
      Monday
    </header.column>
    <header.column @prop="tuesday" class={{if (eq this.today 'tuesday') 'active'}}>
      Tuesday
    </header.column>
    <header.column @prop="wednesday" class={{if (eq this.today 'wednesday') 'active'}}>
      Wednesday
    </header.column>
    <header.column @prop="thursday" class={{if (eq this.today 'thursday') 'active'}}>
      Thursday
    </header.column>
    <header.column @prop="friday" class={{if (eq this.today 'friday') 'active'}}>
      Friday
    </header.column>
    <header.column @prop="saturday" class={{if (eq this.today 'saturday') 'active'}}>
      Saturday
    </header.column>
    <header.column @prop="sunday" class={{if (eq this.today 'sunday') 'active'}}>
      Sunday
    </header.column>
    <header.column @prop="total">
      Total
    </header.column>
  </table.header>
  <table.body as |body timesheetRow|>
    <body.row as |row|>
      <row.cell local-class={{if timesheetRow.isTotal 'total'}}>
        {{#if timesheetRow.chargecode.code}}
          {{timesheetRow.chargecode.code}}
        {{else}}
          <b>{{timesheetRow.chargecode}}</b>
        {{/if}}
      </row.cell>
      <row.cell local-class={{if timesheetRow.isTotal 'total'}}>
        <Ui::Tracker::TimesheetHour @value={{timesheetRow.monday}} />
      </row.cell>
      <row.cell local-class={{if timesheetRow.isTotal 'total'}}>
        <Ui::Tracker::TimesheetHour @value={{timesheetRow.tuesday}} />
      </row.cell>
      <row.cell local-class={{if timesheetRow.isTotal 'total'}}>
        <Ui::Tracker::TimesheetHour @value={{timesheetRow.wednesday}} />
      </row.cell>
      <row.cell local-class={{if timesheetRow.isTotal 'total'}}>
        <Ui::Tracker::TimesheetHour @value={{timesheetRow.thursday}} />
      </row.cell>
      <row.cell local-class={{if timesheetRow.isTotal 'total'}}>
        <Ui::Tracker::TimesheetHour @value={{timesheetRow.friday}} />
      </row.cell>
      <row.cell local-class={{if timesheetRow.isTotal 'total'}}>
        <Ui::Tracker::TimesheetHour @value={{timesheetRow.saturday}} />
      </row.cell>
      <row.cell local-class={{if timesheetRow.isTotal 'total'}}>
        <Ui::Tracker::TimesheetHour @value={{timesheetRow.sunday}} />
      </row.cell>
      <row.cell local-class={{if timesheetRow.isTotal 'total' 'total-chargecode'}}>
        {{#if timesheetRow.chargecode.name}}
          {{timesheetRow.realTotal}}
          ({{timesheet-hours value=timesheetRow.total}})
        {{else}}
          {{timesheet-hours value=timesheetRow.total fixed=1}} ({{timesheet-hours value=timesheetRow.total}})
        {{/if}}
      </row.cell>
    </body.row>

  </table.body>
  <table.tfoot as |foot|>
    <foot.row as |row|>

      {{#each this.dayTotals as |total|}}
        <row.cell>
          {{timesheet-hours value=total}}
        </row.cell>
      {{/each}}

    </foot.row>
  </table.tfoot>
</YetiTable>